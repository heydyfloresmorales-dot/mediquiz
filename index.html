<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üìö MediQuiz</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; color: #05183D; padding: 20px; }
    h1 { color: #245175; }
    .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); margin: 10px 0; }
    .option { margin: 5px 0; }
  </style>
</head>
<body>
  <h1>üìö MediQuiz</h1>
  <div class="card" id="status">üîç Conectando con MediQuiz API...</div>
  <div class="card" id="question"></div>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbxRqeXv3TdqBxQqJnioekm7qGldOTz2gmL3gjUjqjTWfcfdr6BlibLqhpecD_eAHgyX/exec";

    // üîπ 1. Verificar conexi√≥n con la API
    async function testConnection() {
      try {
        const res = await fetch(API_URL);
        const data = await res.json();
        document.getElementById("status").innerHTML = 
          `üîç Test de Conexi√≥n MediQuiz<br>‚úÖ ${data.message}`;
      } catch (err) {
        document.getElementById("status").innerHTML = 
          `‚ùå Error de conexi√≥n: ${err.message}`;
      }
    }

    // üîπ 2. Cargar una pregunta de ejemplo
    async function loadQuestion() {
      try {
        const res = await fetch(API_URL + "?action=getQuestion");
        const q = await res.json();
        document.getElementById("question").innerHTML = `
          <h3>${q.texto}</h3>
          <div class="option">A) ${q.opcionA}</div>
          <div class="option">B) ${q.opcionB}</div>
          <div class="option">C) ${q.opcionC}</div>
          <div class="option">D) ${q.opcionD}</div>
        `;
      } catch (err) {
        document.getElementById("question").innerHTML = "‚ùå Error cargando la pregunta.";
      }
    }

    // Ejecutar al cargar la p√°gina
    testConnection().then(loadQuestion);
  </script>
</body>
</html>
